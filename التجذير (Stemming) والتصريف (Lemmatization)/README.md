# 6. التجذير (Stemming) والتصريف (Lemmatization)

في هذا الفصل، سنناقش عمليتين أساسيتين في معالجة اللغة الطبيعية (NLP) هما التجذير (Stemming) والتصريف (Lemmatization). سنوضح الفرق بينهما، نستعرض مجموعة من الأدوات الحديثة والمستخدمة في هذا المجال، ونتطرق إلى التطبيقات العملية والتحديات الخاصة بالنصوص العربية، خاصة تلك المستخرجة من اللهجات العامية. بالإضافة إلى ذلك، سنقدم قسمين إضافيين: واحد عن المعايير والبيانات المعيارية (Benchmarking) لتقييم أداء أدوات التجذير والتصريف، وآخر لشرح المفاهيم الأساسية باللغتين العربية والإنجليزية.

---

## 6.1 الفرق بين التجذير والتصريف

### تعريفات ومقارنة أساسية

- **التجذير (Stemming):**  
  هو عملية تقليل الكلمة إلى جذعها الأساسي عبر إزالة اللواصق بطريقة عامة دون اعتبار السياق الكامل للكلمة.  
  *مثال:* تحويل "الكتابات" إلى "كتب".

- **التصريف (Lemmatization):**  
  هو عملية أكثر دقة تعتمد على التحليل اللغوي والسياق، حيث يتم تحويل الكلمة إلى شكلها القاموسي الصحيح (lemma).  
  *مثال:* تحويل "الكتابات" إلى "كتابة" مع الحفاظ على المعنى والسياق.

| **المعيار**                    | **التجذير (Stemming)**                            | **التصريف (Lemmatization)**                         |
|--------------------------------|---------------------------------------------------|------------------------------------------------------|
| النهج                         | إزالة اللواصق باستخدام قواعد بسيطة.              | تحليل لغوي يأخذ السياق بعين الاعتبار.                |
| السرعة                        | سريع وبسيط.                                       | أكثر تعقيداً ويحتاج إلى موارد أكبر.                |
| الدقة                         | قد يؤدي إلى فقدان بعض المعاني.                     | يحافظ على المعنى الأصلي بدقة أعلى.                   |
| الاستخدام                    | مناسب للمهام التي لا تتطلب فهمًا نحويًا عميقًا.      | مثالي للتطبيقات التي تعتمد على تحليل السياق بشكل دقيق.|

---

## 6.2 أدوات التجذير والتصريف العربية

### الأدوات والتقنيات الحديثة

في هذا القسم نستعرض مجموعة من الأدوات المستخدمة في التجذير والتصريف، مع إضافات جديدة تشمل أدوات مدمجة ضمن نماذج اللغة الكبيرة (LLMs):

| **الأداة**                | **الوصف**                                                                                               | **النوع**                             | **رابط/مرجع**                                                     |
|---------------------------|---------------------------------------------------------------------------------------------------------|---------------------------------------|---------------------------------------------------------------------|
| **Farasa**                | محلل صرفي شامل يتضمن تجزئة وتشكيل وتصحيح للأخطاء الإملائية.                                             | نظام قائم على القواعد والتعلم الآلي   | [Farasa](http://farasa.qcri.org/)                                   |
| **CAMeL Tools**           | مجموعة أدوات متقدمة لمعالجة النصوص العربية تشمل التجذير والتصريف والتحليل الصرفي.                        | نظام متعدد التقنيات                  | [CAMeL Tools](https://camel.abudhabi.nyu.edu/)                       |
| **MADAMIRA**              | إطار عمل يجمع بين MADA وAMIRA لتحليل النصوص، يشمل التجذير والتصريف مع التمييز النحوي.                     | نظام متكامل (ML-based و Rule-based)   | [MADAMIRA](https://camel.abudhabi.nyu.edu/madamira/)               |
| **AraBERT Tokenizer**     | وحدة تقسيم مدمجة ضمن نموذج AraBERT تعتمد على تقنيات Transformer لمعالجة النصوص العربية.                     | نموذج تعلم آلي                         | [AraBERT](https://github.com/aub-mind/arabert)                       |
| **Tashaphyne**            | مكتبة بايثون للتجزئة الخفيفة (Light Stemming) تُزيل اللواصق بشكل معتدل دون الإفراط في التجزئة.              | خوارزمية تجزئة خفيفة                   | [Tashaphyne on PyPI](https://pypi.org/project/Tashaphyne/)           |
| **ISRI Stemmer**          | خوارزمية تجذير قديمة تعتمد على إزالة اللواصق باستخدام قواعد ثابتة، متوفرة ضمن مكتبة NLTK.                   | نظام قائم على القواعد                  | [ISRI Stemmer Documentation](http://www.nltk.org/_modules/nltk/stem/isri.html) |

*ملاحظة:* بعض هذه الأدوات، مثل AraBERT Tokenizer وCAMeL Tools، تتضمن تقنيات تعتمد على نماذج اللغة الكبيرة (LLMs) مما يتيح لها التعامل مع السياق بشكل أفضل.

---

## 6.3 تطبيقات التجذير والتصريف في NLP

تلعب عمليات التجذير والتصريف دورًا حيويًا في العديد من تطبيقات معالجة اللغة الطبيعية. بعض التطبيقات تشمل:

- **تقليل حجم المفردات:**  
  يساعد التجذير والتصريف في تقليل عدد الأشكال المختلفة للكلمة، مما يقلل من حجم القاموس ويُحسن أداء النماذج.
- **تحسين البحث واسترجاع المعلومات:**  
  يُمكن تحويل الكلمات إلى شكلها الأساسي لتوحيد البحث عبر النصوص المتنوعة.
- **تحليل المشاعر وتصنيف النصوص:**  
  يؤدي توحيد الأشكال إلى تحسين دقة السمات المستخدمة في النماذج التصنيفية.
- **الترجمة الآلية:**  
  يساعد التصريف على فهم السياق بشكل أفضل وبالتالي تحسين جودة الترجمة.
- **التطبيقات الدينية والأدبية:**  
  يُستخدم التصريف الدقيق في تحليل النصوص ذات الطابع الديني أو الأدبي لتقديم معاني دقيقة ومفصلة.

---

## 6.4 تحديات التجذير مع اللهجات العامية

تواجه عملية التجذير تحديات إضافية عند تطبيقها على اللهجات العامية بسبب:

- **تباين التهجئة:**  
  الكتابة العامية (اللهجات) قد تكون متفاوتة (مثلاً: "عايز" بدلاً من "أريد").
- **استخدام لواصق خاصة:**  
  قد تُستخدم لواصق تختلف عن تلك المتعارف عليها في الفصحى.
- **اختلاف المفردات:**  
  تحتوي اللهجات على كلمات فريدة لا توجد في الفصحى.
- **قلة الموارد:**  
  الموارد والأدوات المخصصة للهجات العامية أقل مقارنة بالنماذج المخصصة للغة الفصحى.

### استراتيجيات للتغلب على التحديات:
1. **تطوير قاموس مخصص للهجات:**  
   تجميع وتوحيد المفردات العامية في قاموس يمكن أن يُحسن من عملية التجذير.
2. **تحسين النماذج القائمة على التعلم الآلي:**  
   تدريب النماذج باستخدام بيانات تمثل اللهجات العامية بدقة.
3. **استخدام أدوات هجينة:**  
   دمج الخوارزميات القائمة على القواعد مع تقنيات التعلم الآلي لتوفير نتائج أكثر دقة.

---

## 6.5 المعايير والبيانات المعيارية (Benchmarking)

لمعرفة مدى فعالية أدوات التجذير والتصريف، يتم تقييمها باستخدام مجموعات بيانات معيارية وأطر تقييم موحدة.

### أمثلة على مجموعات البيانات المعيارية:
- **Penn Arabic Treebank (PATB):**  
  مجموعة بيانات ضخمة من النصوص الإخبارية الفصحى مع تحليلات صرفية ونحوية.
- **SALMA Corpus:**  
  مجموعة بيانات حديثة تتضمن نصوصًا من اللغة العربية الفصحى مع تحليلات مفصلة (الأنواع، التصريف، المعاني).
- **Noor-Stem Dataset:**  
  مجموعة بيانات مخصصة لتقييم دقة التجذير وتوحيد الأشكال مع معايير F1 و Precision و Recall.

### معايير التقييم:
- **الدقة (Accuracy):**  
  نسبة الكلمات التي تم تصحيح تجذيرها أو تصريفها مقارنةً بالقيم الذهبية.
- **معدل F1 (F1 Score):**  
  قياس يجمع بين Precision و Recall لتقييم التوازن بين إزالة اللواصق وعدم إزالة أجزاء مهمة من الكلمة.
- **مقاييس Over-stemming و Under-stemming:**  
  تقييم مدى التجاوز في إزالة الأحرف مقابل عدم إزالة اللواصق اللازمة.

*استخدام هذه المعايير يساعد الباحثين على مقارنة أداء الأدوات المختلفة وتحديد أي منها يقدم أفضل توازن بين الدقة والسرعة.*

---

## 6.6 المفاهيم الأساسية والمصطلحات (Key Concepts and Terminology)

فيما يلي جدول للمفاهيم الأساسية بالإنجليزية مع ترجمتها وشرح مبسط بالعربية:

| **English Term**                         | **Arabic Term**                   | **Explanation**                                                                                                         |
|------------------------------------------|-----------------------------------|-------------------------------------------------------------------------------------------------------------------------|
| Tokenization                             | تجزئة النص                        | عملية تقسيم النص إلى وحدات أصغر (كلمات أو أجزاء) لتمكين المعالجة الدقيقة.                                              |
| Stemming                                 | التجذير                          | عملية تقليل الكلمة إلى جذعها الأساسي عبر إزالة اللواصق بطريقة عامة.                                                     |
| Lemmatization                            | التصريف                          | عملية تحويل الكلمة إلى شكلها القاموسي الصحيح (lemma) مع مراعاة السياق.                                                    |
| Morphological Analysis                   | التحليل الصرفي                   | دراسة بنية الكلمة لتفكيكها إلى جذرها وأجزائها مثل السوابق واللواصق.                                                       |
| Affixes                                  | اللواصق                         | عناصر تُضاف إلى بداية أو نهاية الكلمة (سوابق أو لاحقات) لتغيير معناها أو شكلها النحوي.                                  |
| Prefixes                                 | السوابق                         | عناصر تُضاف في بداية الكلمة، مثل (الـ، و، فـ، بـ، كـ، لـ، سـ).                                                           |
| Suffixes                                 | اللواصق                         | عناصر تُضاف في نهاية الكلمة مثل (ـه، ـها، ـهم، ـنا، ـي، ـان، ـون، ـات).                                               |
| Lemma                                    | الصيغة المعجمية                  | الشكل الأساسي للكلمة كما يُدرج في القاموس، عادةً ما يكون صيغة المفرد المذكر للفعل أو الاسم.                                |
| Root                                     | الجذر                           | مجموعة من ثلاثة (أو أربعة) حروف تُعبّر عن المعنى الأساسي للكلمة في اللغة العربية.                                         |
| Subword Tokenization                     | التجزئة تحت-الكلمية              | تقسيم الكلمات إلى وحدات فرعية لتقليل مشكلة الكلمات النادرة وتحسين معالجة الاشتقاقات.                                       |
| Clitics                                  | العلامات المتصلة                | كلمات قصيرة تلتصق بالكلمة مثل حروف العطف أو الجر (مثل: و، ب، ل) والتي يجب فصلها لتحليل النص بشكل صحيح.                   |
| Normalization                            | التطبيع                         | عملية توحيد النصوص عن طريق معالجة الاختلافات الإملائية (مثل: تحويل (أ، إ، آ) إلى (ا)) وإزالة الحركات غير الضرورية.          |
