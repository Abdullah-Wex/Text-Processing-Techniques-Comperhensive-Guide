# 5. تحليل الصرف (Tokenization) في اللغة العربية

تحليل الصرف (Tokenization) هو خطوة أساسية في مشاريع معالجة اللغة الطبيعية (NLP) الحديثة، خاصةً في اللغة العربية التي تتمتع ببنية لغوية معقدة. يساعد تقسيم النص إلى وحدات (tokens) دقيقة النماذج على فهم المعاني والسياق بشكل أفضل. في هذا الفصل، نستعرض التحديات، الطرق، الأساليب، وكيفية التعامل مع اللواصق (السوابق واللواحق) بمزيد من التفاصيل، مع التركيز على تقديم أمثلة وجداول توضيحية.

---

## 5.1 تحديات تقسيم الكلمات في اللغة العربية

تواجه عملية تقسيم النصوص العربية تحديات متعددة بسبب خصائص اللغة. فيما يلي جدول يلخص أهم التحديات:

| **التحدي**                | **الوصف**                                                                                  | **ما يواجهنا اليوم**                                                                       |
|---------------------------|--------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------|
| **التشكيل والهمزات**      | تعدد الحركات (الفتحة، الضمة، الكسرة، التنوين) والهمزات يزيد من تعقيد تقسيم الكلمات.         | النصوص الرقمية غالبًا تأتي بدون تشكيل مما يصعب تحديد المعنى بدقة.                           |
| **اللواصق (Affixes)**     | التصاق السوابق واللواصق بالكلمات يجعل من الصعب فصل الجذر عن المكونات الأخرى.               | استخدام السوابق واللواصق يختلف بين النصوص الرسمية والعامية، مما يتطلب حلولًا مرنة.         |
| **اختلافات الكتابة واللهجات** | اختلاف كتابة الحروف (مثل: أ، إ، آ، والتاء المربوطة) وتباين اللهجات يزيد من تعقيد التقسيم.    | ظهور نصوص هجينة مثل الفرانكو-عربي وعدم انتظام التهجئة في وسائل التواصل الاجتماعي.         |
| **تنوع الاشتقاقات**       | القدرة على توليد العديد من الكلمات من جذر واحد تجعل تحديد حدود الكلمة تحديًا دقيقًا.          | النصوص الحديثة تتضمن اشتقاقات متعددة ما يتطلب أدوات تقسيم قادرة على التعامل مع هذا التنوع.  |
| **زخم المحتوى الحديث**     | تدفق النصوص من وسائل التواصل والمواقع الإلكترونية يتسم بعدم الانتظام والتنوع الكبير.          | التعامل مع نصوص غير منظمة ومتنوعة يتطلب تقنيات تقسيم حديثة وسريعة الاستجابة.                |

---

## 5.2 أدوات وأساليب تقسيم الكلمات العربية

لتقسيم النصوص العربية بفعالية، توجد عدة طرق يمكن استخدامها. فيما يلي نستعرض أبرز الأساليب مع أمثلة وأدوات:

| **الفئة**                                          | **الوصف**                                                                                                                     | **أمثلة/أدوات**                                                                              |
|----------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------|
| **التجزئة القائمة على القواعد (Rule-based Tokenization)**   | تعتمد على قواعد نحوية وصرفية ثابتة لتحديد مواقع التقسيم، وتعمل بشكل جيد مع النصوص الرسمية.                                   | قواعد مكتوبة يدويًا                                                                         |
| **النماذج القائمة على التعلم الآلي (Machine Learning-based Tokenization)** | تعتمد على خوارزميات تعلم عميق ونماذج إحصائية لتعلم كيفية تقسيم النصوص تلقائيًا دون الحاجة لقواعد مسبقة.                        | AraBERT Tokenizer, CAMeL Tools                                                               |
| **المحللات الصرفية الحديثة (Advanced Morphological Analyzers)**       | تقدم تحليلًا دقيقًا لتقسيم النص وتحديد الجذور واللواصق باستخدام قواعد صرفية متقدمة.                                             | Farasa, MADA, CAMeL Tools                                                                    |
| **التجزئة تحت-الكلمية (Subword Tokenization)**          | تُجزّأ الكلمات إلى وحدات فرعية (subwords) لتقليل مشكلة الكلمات خارج القاموس والتعامل مع الاشتقاقات المتنوعة.                      | تقنيات مثل BPE, WordPiece                                                                     |
| **التقسيم على مستوى الأحرف (Character-based Tokenization)**         | تقسم الكلمات إلى أحرف فردية، مفيد للتعامل مع النصوص التي تحتوي على أخطاء إملائية أو نصوص هجينة (عربية وإنجليزية).                   | Character-level Tokenizers                                                                    |

---

## 5.3 التعامل مع اللواصق (السوابق واللواصق)

تلعب اللواصق دوراً رئيسياً في تكوين الكلمات العربية. هنا نقسم التعامل مع اللواصق إلى جزأين: السوابق (Prefixes) واللواصق (Suffixes)، مع استعراض خاص لأوزان الكلمات الثلاثية والرباعية.

### 5.3.1 السوابق (Prefixes)

تُضاف السوابق في بداية الكلمة لتعديل معناها. فيما يلي جدول يوضح بعض السوابق الشائعة، مع أمثلة وخصائصها:

| **السابقة** | **مثال**      | **الخاصية (Characteristic)**         | **التفصيل**                                 |
|-------------|---------------|---------------------------------------|----------------------------------------------|
| و           | والكتاب      | حرف عطف                              | يُستخدم لربط الجمل والأفكار.                  |
| فـ          | فكتبت       | حرف استئناف/تسلسل                     | يدل على النتيجة أو التسلسل.                  |
| بـ          | بالبيت       | حرف جر                                | يُستخدم للدلالة على الوسيلة أو السببية.         |
| كـ          | كالقمر      | حرف تشبيه                            | يُستخدم للتشبيه والمقارنة.                    |
| لـ          | للطالب      | حرف جر                                | يُستخدم للدلالة على الملكية أو النسبة.         |
| الـ         | الكتاب      | أداة تعريف                          | تُستخدم لتعريف الكلمة.                        |

### 5.3.2 اللواصق (Suffixes)

تُضاف اللواصق في نهاية الكلمة لتوضيح الملكية أو الحالة النحوية. فيما يلي جدول يوضح بعض اللواصق الشائعة:

| **اللاحقة** | **مثال**     | **الخاصية (Characteristic)**          | **التفصيل**                                  |
|-------------|--------------|----------------------------------------|-----------------------------------------------|
| ـه         | كتابه        | ضمير ملكية                           | يدل على ملكية شخص ثالث.                        |
| ـها        | كتابها       | ضمير ملكية                           | يدل على ملكية أنثى.                            |
| ـهم        | بيتهم        | ضمير ملكية                           | يدل على ملكية جماعية.                           |
| ـنا        | مدرستنا      | ضمير ملكية                           | يدل على ملكية المتكلمين.                         |
| ـي         | بيتي        | ضمير المتكلم                         | يدل على ملكية المتحدث.                           |
| ـان        | جامعتان     | علامة التثنية                        | تستخدم لتثنية الكلمة.                            |
| ـون        | مسلمون      | علامة جمع مذكر                        | تستخدم لجمع المذكر العاقل.                      |
| ـات        | مسلمات      | علامة جمع مؤنث                        | تستخدم لجمع المؤنث.                              |

### 5.3.3 أوزان الكلمات الثلاثية

الكلمات الثلاثية هي الأكثر شيوعًا في اللغة العربية، وتأتي بأنماط متعددة تُعبّر عن أفعال وأسماء متنوعة. فيما يلي جدول لبعض الأوزان الشائعة لكلمات ثلاثية:

| **الوزن** | **الوصف**               | **مثال (الجذر: ك ت ب)**  |
|-----------|--------------------------|--------------------------|
| فَعَلَ    | فعل ماضٍ بسيط          | كَتَبَ                   |
| يَفْعَلُ   | فعل مضارع بسيط          | يَكْتُبُ                 |
| فَاعِل    | اسم الفاعل              | كاتِب                    |
| مَفْعُول   | اسم المفعول             | مَكْتُوب                 |
| فَعَّلَ   | صيغة المزيد (Intensification) | كَتَّبَ                   |

### 5.3.4 أوزان الكلمات الرباعية

الكلمات الرباعية تظهر في نصوص متخصصة وتكون أقل شيوعًا، لكنها تحمل معانٍ دقيقة. فيما يلي جدول لبعض الأوزان الرباعية:

| **الوزن**    | **الوصف**                           | **مثال (جذر رباعي: د ح ر ج)**  |
|--------------|--------------------------------------|------------------------------|
| فَعْلَلَ     | فعل ماضٍ رباعي                      | دَحْرَجَ (مثال نظري)           |
| يُفَعْلِلُ    | فعل مضارع رباعي                    | يُفَعْلِلُ (مثال نظري)         |
| مُفَعْلَلٌ    | اسم مفعول رباعي                    | مُفَعْلَلٌ (مثال نظري)         |
| تَفْعَلَلَ   | صيغة التكرار أو التكلف             | تَفْعَلَلَ (مثال نظري)         |

---

## 5.4 تأثير تحليل الصرف على أداء النماذج

دقة عملية التقسيم تؤثر مباشرة على كيفية فهم النماذج للنصوص. فيما يلي جدول يوضح التأثيرات الرئيسية:

| **التأثير**                                       | **الوصف**                                                                                                                             |
|---------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------|
| تحسين الفهم الدلالي (Semantic Understanding)       | تقسيم الكلمات بدقة يُساعد النماذج على فهم معاني الكلمات والسياق بشكل أفضل.                                                           |
| تقليل مشكلة الكلمات خارج المفردات (OOV Reduction)  | فصل اللواصق عن الجذور يزيد من تكرار الجذور الشائعة، مما يقلل من مشكلة الكلمات غير الموجودة في القاموس.                                |
| زيادة دقة التصنيف (Enhanced Classification Accuracy)| تقسيم واضح يسهم في تحسين دقة النماذج في مهام مثل تحليل المشاعر والتصنيف.                                                               |
| تأثير على طول التسلسل (Sequence Length Impact)     | استخدام تجزئة تحت-الكلمية أو تقسيم على مستوى الأحرف قد يؤدي إلى زيادة عدد الوحدات، مما يؤثر على استهلاك الذاكرة وسرعة المعالجة.     |
| تفاعل مع نماذج اللغة الكبيرة (LLM Interaction)      | النماذج مثل AraBERT وAraGPT2 تعتمد على تقسيم دقيق؛ كلما كان التقسيم أكثر وضوحًا، كانت نتائج الترجمة والتلخيص أفضل.                      |

---

## 5.5 منهجية مقترحة للتجزئة الفعالة

للحصول على أفضل نتائج في مشاريعك، نوصي بالخطوات التالية:

1. **جمع بيانات تمثيلية:**  
   - تأكد من شمول بيانات رسمية وعامية متنوعة لتدريب النموذج بشكل جيد.

2. **استخدام التجزئة تحت-الكلمية:**  
   - استفد من تقنيات مثل BPE أو WordPiece لتقسيم الكلمات إلى وحدات فرعية تقلل مشكلة الكلمات النادرة.

3. **دمج النماذج القائمة على التعلم الآلي:**  
   - استخدم نماذج مثل AraBERT Tokenizer لتعلم كيفية تقسيم النصوص بشكل تلقائي ودقيق.

4. **الاستفادة من المحللات الصرفية:**  
   - عند الحاجة للحصول على تقسيم دقيق للواصق، يمكن دمج أدوات مثل Farasa أو CAMeL Tools.

5. **التقييم والتحسين المستمر:**  
   - اختبر النموذج على بيانات حقيقية وقم بتعديل إعدادات التقسيم بناءً على النتائج.

---

## 5.6 أدوات مفيدة

| **الأداة**      | **الوظيفة**                                      | **الرابط**                                                       |
|-----------------|--------------------------------------------------|-------------------------------------------------------------------|
| CAMeL Tools     | تحليل صرفي وتقسيم متقدم للنصوص العربية            | [CAMeL Tools](https://camel.abudhabi.nyu.edu/)                     |
| Farasa          | محلل صرفي حديث يساعد في تقسيم الكلمات واللواصق      | [Farasa](http://farasa.qcri.org/)                                   |
| AraBERT         | نموذج لغوي مع وحدة تقسيم مدمجة للتعامل مع النص العربي | [AraBERT](https://github.com/aub-mind/arabert)                      |
| MADA            | محلل صرفي تقليدي لكنه مفيد للتطبيقات الأكاديمية      | (مراجع أكاديمية متاحة)                                             |

---

## 5.7 معايير وموارد قياسية لتحليل الصرف العربي

لضمان جودة التقسيم الصرفي، نستخدم معايير وموارد محددة:

### 5.7.1 معايير العربية الفصحى (MSA)

- **Penn Arabic Treebank (PATB)**: مجموعة ضخمة من النصوص الإخبارية بدقة عالية.
- **Prague Arabic Dependency Treebank (PADT)**: نصوص إخبارية مع تحليل لغوي شامل.
- **Corpus Linguae Arabicae (CLARA)**: نصوص مع تحليل صرفي واضح.
- **Quranic Arabic Corpus**: تحليل دقيق لكلمات القرآن الكريم.
- **KALIMAT Corpus**: نصوص صحفية من الخليج مع تحليلات صرفية.

### 5.7.2 معايير اللهجات العربية (Arabic Dialects)

- **Egyptian Arabic Treebank (ARZATB)**: لهجة مصرية عامية.
- **Palestinian Arabic Corpus (Curras)**: نصوص من اللهجة الفلسطينية.
- **Emirati Arabic Gumar Corpus**: نصوص من اللهجة الخليجية (الإمارات).
- **QCRI Multidialectal Twitter Corpus**: تغريدات متعددة اللهجات.

### 5.7.3 أدوات التقييم

- **MADAMIRA**: نظام شامل للفصحى والمصرية.
- **CAMeL Tools**: أدوات شاملة للتحليل الصرفي لمختلف اللهجات.
- **SAFAR Framework**: إطار عام يساعد على التقييم بسهولة.

---

## 5.8 المصطلحات الأساسية (Key Concepts)

فيما يلي جدول يوضح المصطلحات الأساسية بالإنجليزية وما يقابلها من معاني بالعربية:

| **English Term**                  | **Arabic Term**                           | **Explanation**                                                      |
|-----------------------------------|-------------------------------------------|----------------------------------------------------------------------|
| Tokenization                      | تحليل الصرف                              | عملية تقسيم النص إلى وحدات أصغر (كلمات أو وحدات فرعية).                |
| Natural Language Processing (NLP) | معالجة اللغة الطبيعية                     | مجال يهتم بتطوير الخوارزميات لفهم ومعالجة اللغة البشرية.                |
| Rule-based Tokenization           | التجزئة القائمة على القواعد                | استخدام قواعد نحوية وصرفية لتحديد مواقع التقسيم.                        |
| Machine Learning-based Tokenization| التجزئة القائمة على التعلم الآلي           | استخدام نماذج إحصائية وخوارزميات التعلم العميق لتقسيم النص تلقائيًا.    |
| Morphological Analysis            | التحليل الصرفي                           | دراسة بنية الكلمات لفصل الجذور عن اللواصق.                              |
| Subword Tokenization              | التجزئة تحت-الكلمية                        | تقسيم الكلمات إلى وحدات فرعية لتقليل مشكلة الكلمات النادرة (OOV).         |
| Character-based Tokenization      | التقسيم على مستوى الأحرف                   | تقسيم الكلمات إلى أحرف فردية للتعامل مع النصوص التي تحتوي على أخطاء.     |
| Affixes                         | اللواصق                                  | السوابق واللواصق التي تُضاف إلى الكلمة لتعديل معناها أو بنيتها النحوية.  |
| Prefixes                          | السوابق                                  | عناصر تُضاف في بداية الكلمة (مثل: الـ، و، فـ، بـ، كـ، لـ).                |
| Suffixes                          | اللواصق                                  | عناصر تُضاف في نهاية الكلمة (مثل: ـه، ـها، ـهم، ـنا، ـي).                |

