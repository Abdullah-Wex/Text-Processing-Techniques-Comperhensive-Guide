# تنظيف وتطبيع النص العربي

- [تنظيف وتطبيع النص العربي](#تنظيف-وتطبيع-النص-العربي)
  - [4.1 إزالة الضوضاء والشوائب من النص (Noise Removal)](#41-إزالة-الضوضاء-والشوائب-من-النص-noise-removal)
    - [أهمية إزالة الضوضاء (Importance of Noise Removal)](#أهمية-إزالة-الضوضاء-importance-of-noise-removal)
    - [خطوات إزالة الضوضاء (Noise Removal Steps)](#خطوات-إزالة-الضوضاء-noise-removal-steps)
    - [أدوات مساعدة (Helpful Tools)](#أدوات-مساعدة-helpful-tools)
  - [4.2 التعامل مع الرموز الخاصة والعلامات الترقيمية (Handling Special Characters and Punctuation)](#42-التعامل-مع-الرموز-الخاصة-والعلامات-الترقيمية-handling-special-characters-and-punctuation)
    - [أهمية التعامل مع الرموز الخاصة (Importance of Handling Special Characters)](#أهمية-التعامل-مع-الرموز-الخاصة-importance-of-handling-special-characters)
    - [استراتيجيات التعامل (Handling Strategies)](#استراتيجيات-التعامل-handling-strategies)
      - [الحفاظ على العلامات الترقيمية المهمة (Preserving Important Punctuation Marks)](#الحفاظ-على-العلامات-الترقيمية-المهمة-preserving-important-punctuation-marks)
      - [إزالة الرموز غير الضرورية (Removing Unnecessary Symbols)](#إزالة-الرموز-غير-الضرورية-removing-unnecessary-symbols)
      - [توحيد الرموز المتشابهة (Standardizing Similar Symbols)](#توحيد-الرموز-المتشابهة-standardizing-similar-symbols)
      - [التعامل مع الأرقام الهندية والفارسية والإنجليزية (Handling Arabic-Indic, Persian, and English Numerals)](#التعامل-مع-الأرقام-الهندية-والفارسية-والإنجليزية-handling-arabic-indic-persian-and-english-numerals)
      - [معالجة الرموز التعبيرية (Emojis)](#معالجة-الرموز-التعبيرية-emojis)
  - [4.3 تصحيح الأخطاء الإملائية والنحوية (Spelling and Grammar Correction)](#43-تصحيح-الأخطاء-الإملائية-والنحوية-spelling-and-grammar-correction)
    - [أهمية التصحيح (Importance of Correction)](#أهمية-التصحيح-importance-of-correction)
    - [تحديات التصحيح في اللغة العربية (Challenges in Arabic Correction)](#تحديات-التصحيح-في-اللغة-العربية-challenges-in-arabic-correction)
    - [خطوات التصحيح (Correction Steps)](#خطوات-التصحيح-correction-steps)
    - [أدوات مساعدة (Helpful Tools)](#أدوات-مساعدة-helpful-tools-1)
  - [4.4 توحيد الصيغ الكتابية (Standardizing Writing Styles)](#44-توحيد-الصيغ-الكتابية-standardizing-writing-styles)
    - [أهمية التوحيد (Importance of Standardization)](#أهمية-التوحيد-importance-of-standardization)
    - [مجالات التوحيد (Areas of Standardization)](#مجالات-التوحيد-areas-of-standardization)
    - [طرق التوحيد (Standardization Methods)](#طرق-التوحيد-standardization-methods)
  - [4.5 تطبيع النص للتعامل مع التحديات اللغوية (Text Normalization to Address Linguistic Challenges)](#45-تطبيع-النص-للتعامل-مع-التحديات-اللغوية-text-normalization-to-address-linguistic-challenges)
    - [مفهوم التطبيع (Concept of Normalization)](#مفهوم-التطبيع-concept-of-normalization)
    - [خطوات التطبيع (Normalization Steps)](#خطوات-التطبيع-normalization-steps)
      - [**ملاحظة مهمة:**](#ملاحظة-مهمة)
      - [**وقفة مهمة:**](#وقفة-مهمة)
    - [التعامل مع اللهجات (Handling Dialects)](#التعامل-مع-اللهجات-handling-dialects)
      - [أمثلة على اللهجات (Examples of Dialects):](#أمثلة-على-اللهجات-examples-of-dialects)
    - [أدوات مساعدة في التطبيع (Helpful Tools in Normalization)](#أدوات-مساعدة-في-التطبيع-helpful-tools-in-normalization)
  - [4.6 مثال حي](#46-مثال-حي)
    - [Step 1" Import \& Declear Variables](#step-1-import--declear-variables)
      - [Input:](#input)
      - [Output:](#output)
    - [Step 2: Remove Tashkeel](#step-2-remove-tashkeel)
      - [Input](#input-1)
      - [Output](#output-1)
    - [Step 3.1: Noise Removal (Links)](#step-31-noise-removal-links)
      - [Input](#input-2)
      - [Output](#output-2)
    - [Step 3.2: Noise Removal (Numbers)](#step-32-noise-removal-numbers)
      - [Input](#input-3)
      - [Output](#output-3)
    - [Step 3.3: Noise Removal (Double Spaces)](#step-33-noise-removal-double-spaces)
      - [Input](#input-4)
      - [Output](#output-4)
    - [Step 4.1: Normalization (Alif)](#step-41-normalization-alif)
      - [Input](#input-5)
      - [Output](#output-5)
    - [Step 4.2: Normalization (Yaa'a)](#step-42-normalization-yaaa)
      - [Input](#input-6)
      - [Output](#output-6)
    - [Step 4.2: Normalization (Haa'a)](#step-42-normalization-haaa)
      - [Input](#input-7)
      - [Output](#output-7)
  - [4.7 الحالات المميزة (Special Cases)](#47-الحالات-المميزة-special-cases)
    - [4.7.5 منهجية موحّدة للتعامل مع المصادر المختلفة (A Unified Methodology)](#475-منهجية-موحّدة-للتعامل-مع-المصادر-المختلفة-a-unified-methodology)
    - [4.7.6 ضمان الجودة (Quality Assurance)](#476-ضمان-الجودة-quality-assurance)
  - [مصطلحات مهمة (Key Terms)](#مصطلحات-مهمة-key-terms)


تُعدّ **تنظيف وتطبيع النص العربي (Arabic Text Cleaning and Normalization)** خطوة أساسية في مشاريع **معالجة اللغة الطبيعية - Natural Language Processing (NLP)**. هذه العملية تهدف إلى تحسين جودة البيانات النصية وجعلها مناسبة للمعالجة بواسطة النماذج والخوارزميات. يتناول هذا القسم كيفية إزالة الضوضاء، التعامل مع الرموز الخاصة، تصحيح الأخطاء، وتوحيد الصيغ الكتابية للنص العربي.

## 4.1 إزالة الضوضاء والشوائب من النص (Noise Removal)

### أهمية إزالة الضوضاء (Importance of Noise Removal)

**الضوضاء (Noise)** في النصوص الرقمية تشير إلى العناصر التي لا تضيف قيمة معنوية أو قد تسبب إرباكًا للنماذج، مثل الرموز غير الضرورية، العلامات غير المرغوب فيها، أو البيانات غير المرتبطة بالمحتوى الأساسي. إزالة الضوضاء تساعد على:

- **تحسين دقة النماذج (Improving Model Accuracy)**
- **تقليل حجم البيانات (Reducing Data Size)**
- **تسهيل عملية المعالجة (Facilitating Processing)**

### خطوات إزالة الضوضاء (Noise Removal Steps)

**جدول يوضح خطوات إزالة الضوضاء:**

| **الخطوة (العربية)**                                  | **الخطوة (الإنجليزية)**                                                                                                                  | **الوصف (Description)**                                                                                                                       | **مثال قبل الإزالة (Before Removal)**       | **مثال بعد الإزالة (After Removal)**       |
|-------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|---------------------------------------------|
| **إزالة الروابط الإلكترونية**                         | **Removing URLs**                                                                                                                        | حذف الروابط مثل `http://` أو `www.` التي لا تضيف قيمة تحليلية.                                                                                 | "تفاصيل على الموقع http://example.com"        | "تفاصيل على الموقع"                         |
| **حذف عناوين البريد الإلكتروني**                      | **Removing Email Addresses**                                                                                                             | إزالة العناوين التي قد تحتوي على معلومات شخصية أو غير ذات صلة.                                                                                  | "راسلنا على info@example.com"                 | "راسلنا على"                                |
| **إزالة الأرقام غير الضرورية**                        | **Removing Unnecessary Numbers**                                                                                                         | حذف الأرقام إذا لم تكن مهمة للتحليل، خاصة إذا كانت عشوائية أو غير مهمة للسياق.                                                                  | "فاز الفريق 3 مرات"                           | "فاز الفريق مرات"                           |
| **حذف الرموز والرموز التعبيرية غير المرغوب فيها**       | **Removing Unwanted Symbols and Emojis**                                                                                                 | إزالة الرموز مثل `#`, `@`, `&` إذا لم تكن ذات صلة، والتي قد تسبب تشويشًا للنماذج.                                                          | "أحب البرمجة 😊 #Coding"                      | "أحب البرمجة"                               |
| **إزالة النصوص المتكررة أو العبارات الزائدة**          | **Removing Repeated Text or Excessive Phrases**                                                                                          | حذف التكرارات مثل "ههههه"، "؟؟؟؟"، "!!!!" التي لا تضيف معنى إضافيًا.                                                                         | "ممتاز!!!!!"                                 | "ممتاز!"                                    |

`ملاحظة: حذف الحروف المتكررة مفيد في بعض الحالات وفي نفس الوقت يمكن أن يضر النص لوجود كلمات تحتوي على حروف متتالية وتعتبر متكررة في هذه الحالة وهنا يستوجب معالجة خاصة للكلمات.`

### أدوات مساعدة (Helpful Tools)

- **التعبيرات النمطية (Regular Expressions):**
  - تُستخدم لاكتشاف وحذف الأنماط غير المرغوب فيها.
- **مكتبات معالجة النصوص (Text Processing Libraries):**
  - **NLTK:** مكتبة بايثون لمعالجة اللغة الطبيعية.
  - **spaCy:** مكتبة فعّالة لمعالجة النصوص.
  - **Camel Tools:** مجموعة أدوات متخصصة للغة العربية.
  - **re:** مكتبة بايثون للتعبيرات النمطية.
  - **TextBlob:** مكتبة سهلة الاستخدام لمعالجة النصوص.
  - **PyArabic:** مكتبة لمعالجة النص العربي.

## 4.2 التعامل مع الرموز الخاصة والعلامات الترقيمية (Handling Special Characters and Punctuation)

### أهمية التعامل مع الرموز الخاصة (Importance of Handling Special Characters)

الرموز الخاصة والعلامات الترقيمية تلعب دورًا مهمًا في فهم التركيب اللغوي والمعنى في النصوص. التعامل الصحيح معها يساعد على:

- **تحسين فهم النماذج للسياق (Enhancing Model Understanding of Context)**
- **المحافظة على المعنى الأصلي للنص (Maintaining Original Text Meaning)**
- **تقليل الأخطاء في التحليل اللغوي (Reducing Errors in Linguistic Analysis)**

### استراتيجيات التعامل (Handling Strategies)

#### الحفاظ على العلامات الترقيمية المهمة (Preserving Important Punctuation Marks)

**جدول العلامات الترقيمية المهمة واستخداماتها:**

| **العلامة (العربية)** | **العلامة (الإنجليزية)** | **الاسم (Name)**       | **الاستخدام (Usage)**                              | **مثال (Example)**                      |
|-----------------------|---------------------------|------------------------|----------------------------------------------------|------------------------------------------|
| `.`                   | `.`                       | النقطة (Period)         | تشير إلى نهاية الجملة أو الفكرة.                    | "ذهبت إلى المدرسة."                     |
| `،`                   | `,`                       | الفاصلة (Comma)         | تفصل بين أجزاء الجملة أو العناصر في القائمة.        | "أحب التفاح، البرتقال، والموز."          |
| `؛`                   | `;`                       | الفاصلة المنقوطة (Semicolon) | تفصل بين جملتين مرتبطتين في المعنى.                 | "درست كثيرًا؛ لذلك نجحت."                |
| `:`                   | `:`                       | النقطتان (Colon)        | تستخدم قبل قائمة أو شرح.                            | "الألوان الأساسية هي: الأحمر، الأزرق."   |
| `؟`                   | `?`                       | علامة الاستفهام (Question Mark) | توضع في نهاية السؤال.                               | "كيف حالك؟"                             |
| `!`                   | `!`                       | علامة التعجب (Exclamation Mark) | تعبر عن الدهشة أو الانفعال.                         | "يا له من يوم رائع!"                    |
| `"`                   | `"`                       | علامتا الاقتباس (Quotation Marks) | تستخدم لاقتباس كلام مباشر أو نص.                    | "قال: 'أحب القراءة'."                   |
| `(` و `)`             | `(` and `)`               | القوسان (Parentheses)   | تحتوي على معلومات إضافية أو توضيحية.                | "سافرت إلى باريس (عاصمة فرنسا)."         |

#### إزالة الرموز غير الضرورية (Removing Unnecessary Symbols)

**لماذا نزيل الرموز غير الضرورية؟**

- **التشويش على النماذج (Confusing Models):**
  - الرموز غير الضرورية قد تسبب ارتباكًا للنماذج وتؤثر على دقتها.
- **عدم إضافة قيمة معنوية (No Semantic Value):**
  - رموز مثل `$`, `%`, `^`, `*` قد لا تكون ذات صلة بالسياق.
- **تحسين كفاءة المعالجة (Improving Processing Efficiency):**
  - تقليل حجم البيانات وتسريع العمليات.

**الأضرار المحتملة لإبقاء هذه الرموز:**

- **زيادة التعقيد (Increased Complexity):**
  - تتطلب من النماذج معالجة معلومات غير ضرورية.
- **تحريف المعنى (Distorting Meaning):**
  - قد تفسر النماذج هذه الرموز بشكل خاطئ.

#### توحيد الرموز المتشابهة (Standardizing Similar Symbols)

هناك رموز متشابهة في اللغات المختلفة، وقد يؤدي عدم توحيدها إلى ارتباك النماذج.

**أمثلة على الرموز المتشابهة واختلافاتها:**

| **الرمز العربي (Arabic Symbol)** | **الرمز الإنجليزي (English Symbol)** | **الاختلاف (Difference)**                           | **الملاحظة (Note)**                                  |
|----------------------------------|---------------------------------------|-----------------------------------------------------|------------------------------------------------------|
| `،`                              | `,`                                   | الفاصلة العربية والفاصلة الإنجليزية.                 | الاتجاه مختلف، العربية من اليمين إلى اليسار.          |
| `؛`                              | `;`                                   | الفاصلة المنقوطة العربية والإنجليزية.                 | الشكل مشابه ولكن الاتجاه مختلف.                      |
| `؟`                              | `?`                                   | علامة الاستفهام العربية والإنجليزية.                   | العربية معكوسة مقارنة بالإنجليزية.                    |
| `(` و `)`                        | `(` and `)`                           | الأقواس قد تظهر معكوسة في النص العربي.                | يجب التأكد من الاتجاه الصحيح في العربية.              |
| `"`                              | `"`                                   | علامات الاقتباس قد تختلف في التنسيق.                   | التأكد من استخدام علامات موحدة.                       |

#### التعامل مع الأرقام الهندية والفارسية والإنجليزية (Handling Arabic-Indic, Persian, and English Numerals)

الأرقام في النص العربي قد تظهر بصيغ مختلفة. من المهم توحيدها لضمان الاتساق.

**جدول الأرقام بمختلف الصيغ:**

| **الرقم (Number)** | **الأرقام العربية (الهندية) (Arabic-Indic Numerals)** | **الأرقام الفارسية (Persian Numerals)** | **الأرقام الإنجليزية (English Numerals)** |
|--------------------|-------------------------------------------------------|------------------------------------------|--------------------------------------------|
| 0                  | ٠                                                     | ۰                                        | 0                                          |
| 1                  | ١                                                     | ۱                                        | 1                                          |
| 2                  | ٢                                                     | ۲                                        | 2                                          |
| 3                  | ٣                                                     | ۳                                        | 3                                          |
| 4                  | ٤                                                     | ۴                                        | 4                                          |
| 5                  | ٥                                                     | ۵                                        | 5                                          |
| 6                  | ٦                                                     | ۶                                        | 6                                          |
| 7                  | ٧                                                     | ۷                                        | 7                                          |
| 8                  | ٨                                                     | ۸                                        | 8                                          |
| 9                  | ٩                                                     | ۹                                        | 9                                          |

**استراتيجية التعامل:**

- **توحيد الأرقام (Number Normalization):**
  - تحويل جميع الأرقام إلى صيغة واحدة، مثل الأرقام الإنجليزية (`0-9`).
- **أدوات مساعدة:**
  - استخدام جداول تحويل أو دوال برمجية لتحويل الأرقام.

#### معالجة الرموز التعبيرية (Emojis)

**استخدام الرموز التعبيرية في النصوص العربية (Use of Emojis in Arabic Texts):**

الرموز التعبيرية تضيف تعبيرات عاطفية أو سياقية للنص.

**جدول أمثلة على الرموز التعبيرية ومعانيها:**

| **الرمز التعبيري (Emoji)** | **المعنى (Meaning)** | **التعبير النمطي (Regex)**            |
|----------------------------|-----------------------|----------------------------------------|
| 😊                         | ابتسامة (Smile)       | `\U0001F60A`                           |
| 😢                         | حزين (Sad)            | `\U0001F622`                           |
| ❤️                         | حب (Love)             | `\U00002764`                           |
| 😂                         | ضحك (Laughing)        | `\U0001F602`                           |
| 😮                         | دهشة (Surprised)      | `\U0001F62E`                           |

**ملاحظات:**

- **التعبيرات النمطية للرموز التعبيرية:**
  - يمكن استخدام تعبير نمطي عام لاكتشاف جميع الرموز التعبيرية، مثل:
    - `[\U0001F600-\U0001F64F]` (يشمل وجوه الإيموجي)
- **تحديات:**
  - وجود آلاف الرموز التعبيرية يجعل من الصعب إدراج جميعها.
  - يفضل التركيز على الرموز الأكثر شيوعًا في النصوص المستهدفة.

## 4.3 تصحيح الأخطاء الإملائية والنحوية (Spelling and Grammar Correction)

### أهمية التصحيح (Importance of Correction)

الأخطاء الإملائية والنحوية قد تؤثر على فهم النص ودقة النماذج، خاصة في مهام مثل تحليل المشاعر أو تصنيف النصوص.

### تحديات التصحيح في اللغة العربية (Challenges in Arabic Correction)

**جدول يوضح التحديات:**

| **التحدي (Challenge)**          | **الشرح (Explanation)**                                                                                 |
|---------------------------------|---------------------------------------------------------------------------------------------------------|
| **تعقيد القواعد اللغوية (Complex Grammar Rules)**  | تنوع صيغ الكلمات والتشكيل يجعل من الصعب تحديد الصيغة الصحيحة للكلمة.                                      |
| **الكلمات المتشابهة (Similar Words)**             | كلمات تختلف في حرف أو تشكيل وتؤدي إلى معانٍ مختلفة، مثل "عَلَم" و"عَلِم".                                  |
| **الهمزات والألف المقصورة (Hamzas and Alef Maqsura)** | اختلاف كتابة الهمزات والألف المقصورة يؤدي إلى أخطاء شائعة.                                              |
| **اللهجات العامية (Dialects)**                   | استخدام اللهجات في النصوص يزيد من صعوبة التصحيح بسبب الاختلاف عن الفصحى.                                 |
| **نقص الموارد والأدوات (Lack of Resources and Tools)** | قلة الأدوات المتقدمة للتصحيح الإملائي والنحوي باللغة العربية مقارنة باللغات الأخرى.                           |

### خطوات التصحيح (Correction Steps)

1. **استخدام قاموس لغوي (Using a Lexicon):**
   - للتحقق من الكلمات وتصحيحها.
2. **استخدام خوارزميات التصحيح الآلي (Using Automated Correction Algorithms):**
   - مثل خوارزمية **Norvig** للتصحيح الإملائي.
3. **معالجة الأخطاء الشائعة (Handling Common Mistakes):**
   - مثل الهمزات والألف المقصورة والتاء المربوطة.
4. **تصحيح الأخطاء النحوية (Correcting Grammatical Errors):**
   - استخدام أدوات تحليل نحوي لتحديد الأخطاء وتصحيحها.

### أدوات مساعدة (Helpful Tools)

- [**Farasa Spell Checker**](https://farasa.qcri.org/)
- [**Ayaspell**](https://github.com/linuxscout/ayaspell)
- [**ArabicSpellChecker**](https://arabicspellchecker.com/)
- [**Camel Tools**](https://github.com/CAMeL-Lab/camel_tools)

## 4.4 توحيد الصيغ الكتابية (Standardizing Writing Styles)

### أهمية التوحيد (Importance of Standardization)

توحيد الصيغ الكتابية يساعد في تقليل التنوع الزائد في تمثيل الكلمات، مما يحسن من أداء النماذج ويقلل من التعقيد.

### مجالات التوحيد (Areas of Standardization)

**جدول مجالات التوحيد:**

| **المجال (Area)**                       | **الوصف (Description)**                                                                                | **مثال قبل التوحيد (Before)** | **مثال بعد التوحيد (After)** |
|------------------------------------------|---------------------------------------------------------------------------------------------------------|--------------------------------|------------------------------|
| **الهمزات (Hamzas)**                     | توحيد كتابة الهمزات على الألف أو الياء أو الواو.                                                          | "مسئول"، "مسؤول"              | "مسؤول"                     |
| **الألف المقصورة والياء (Alef Maqsura and Ya')** | توحيد الألف المقصورة (`ى`) والياء (`ي`) في نهاية الكلمات.                                                 | "يسعى"، "يسعي"                | "يسعى"                      |
| **التشكيل (Diacritics)**                 | إزالة التشكيل أو الاحتفاظ به حسب الحاجة.                                                                  | "عَلِيٌّ"                     | "علي"                       |
| **الهمزة في الأفعال (Hamza in Verbs)**    | توحيد كتابة الهمزة في الأفعال مثل "أكل"، "اكل".                                                           | "أكل"، "اكل"                  | "أكل"                       |
| **التاء المربوطة والهاء (Ta' Marbouta and Ha')** | توحيد التاء المربوطة (`ة`) والهاء (`ه`) في نهاية الكلمات.                                                  | "مدرسه"، "مدرسة"              | "مدرسة"                     |

### طرق التوحيد (Standardization Methods)

- **استبدال الحروف المتشابهة (Replacing Similar Letters):**
  - استخدام دوال برمجية لاستبدال الحروف.
- **إزالة التشكيل (Removing Diacritics):**
  - باستخدام دوال لإزالة علامات التشكيل.
- **استخدام جداول تحويل (Using Conversion Tables):**
  - جداول تحدد كيفية تحويل الحروف أو الصيغ إلى الشكل الموحد.


## 4.5 تطبيع النص للتعامل مع التحديات اللغوية (Text Normalization to Address Linguistic Challenges)

### مفهوم التطبيع (Concept of Normalization)

**تطبيع النص (Text Normalization)** هو عملية تحويل النص إلى شكل موحد ومبسّط للتقليل من التعقيدات اللغوية وجعله مناسبًا للمعالجة الآلية.

### خطوات التطبيع (Normalization Steps)

**جدول خطوات التطبيع:**

| **الخطوة (Step)**                                   | **الوصف (Description)**                                                                                  |
|-----------------------------------------------------|----------------------------------------------------------------------------------------------------------|
| **تحويل النص إلى أحرف صغيرة (Convert to Lowercase)** | في العربية، لا توجد حالة أحرف، ولكن يمكن تطبيق ذلك في لغات أخرى.                                            |
| **إزالة التشكيل (Remove Diacritics)**               | حذف الحركات إذا لم تكن مهمة للتحليل.                                                                      |
| **توحيد الألف المقصورة والممدودة (Standardize Alef Forms)** | تحويل `أ`، `إ`، `آ` إلى `ا`.                                                                              |
| **توحيد الهاء والتاء المربوطة (Standardize Ha' and Ta' Marbouta)** | تحويل `ة` إلى `ه` أو العكس، حسب الحاجة.                                                                    |
| **توحيد الهمزات (Standardize Hamzas)**              | توحيد كتابة الهمزات على الألف أو الياء أو حذفها.                                                           |
| **توحيد الأرقام (Normalize Numbers)**               | تحويل الأرقام إلى صيغة موحدة، مثل الأرقام الإنجليزية.                                                     |
| **التجذير (Stemming)**                              | استخراج جذر الكلمة للتعامل مع التصريفات المختلفة.                                                          |
| **الرد إلى الأصل (Lemmatization)**                  | تحويل الكلمة إلى صيغة القاموس.                                                                            |
| **إزالة التكرارات والحروف الزائدة (Remove Duplicates and Excess Letters)** | حذف التكرارات في الحروف مثل "جمممميل" لتصبح "جميل".                                                      |
| **التعامل مع الاختصارات والكلمات الدخيلة (Handle Abbreviations and Foreign Words)** | تحويل الاختصارات إلى كلمات كاملة والتعامل مع الكلمات الأجنبية.                                             |


#### **ملاحظة مهمة:**
> هناك عدة خطوات يمكن تطبيقها لتوحيد الحروف ويمكن تطبيق العديد منها ويمكن عدم تطبيق أي منها:
> - حرف التاء المربوطة (ة) يتم تحويلها الى الهاء (ه)
> - حرف الألف المقصورى (ى) الى الياء (ي)
> - حرف الألف بجميع أشكاله (اأإآ) الى الألف الممدودة (ا)

#### **وقفة مهمة:**
>**سؤال: لماذا أوحد الحروف وانا يمكنني أن أحافظ على تميز الحروف مثل التاء المربوطة وموقعها في الكلمة؟** 
> 
> **الإجابة: طرق الكتابة غير ثابتة خصوصا إذا كان المدخل هم الناس في وسائل التواصل الإجتماعي ولهذا أفضل طريقة هي توحيد النصوص**


### التعامل مع اللهجات (Handling Dialects)

اللهجات العربية تختلف بشكل كبير، والتعامل معها يتطلب استراتيجيات محددة.

#### أمثلة على اللهجات (Examples of Dialects):

1. **اللهجة العربية الحديثة (Modern Standard Arabic):**

   - **الخصائص (Characteristics):**
     - اللغة العربية الفصحى المستخدمة في الإعلام والتعليم.
   - **استراتيجية التعامل (Handling Strategy):**
     - غالبًا ما تكون المعالجة أسهل نظرًا للموارد المتاحة.

2. **اللهجة السعودية (Saudi Dialect):**

   - **الخصائص (Characteristics):**
     - تستخدم كلمات مثل "وش" (ماذا)، "كيفك" (كيف حالك).
   - **استراتيجية التعامل (Handling Strategy):**
     - بناء قاموس للهجة السعودية.
     - تحويل الكلمات إلى الفصحى عند الحاجة.

3. **اللهجة المصرية (Egyptian Dialect):**

   - **الخصائص (Characteristics):**
     - استخدام كلمات مثل "إيه" (ماذا)، "عاوز" (أريد).
   - **استراتيجية التعامل (Handling Strategy):**
     - استخدام قواميس مخصصة للهجة المصرية.
     - تحويل الكلمات العامية إلى الفصحى.

4. **اللهجة الشامية (Levantine Dialect):**

   - **الخصائص (Characteristics):**
     - كلمات مثل "شو" (ماذا)، "ليش" (لماذا).
   - **استراتيجية التعامل (Handling Strategy):**
     - جمع بيانات من اللهجة الشامية.
     - استخدام نماذج مخصصة.

### أدوات مساعدة في التطبيع (Helpful Tools in Normalization)

- **مكتبات بايثون (Python Libraries):**
  - **PyArabic**
  - **Arabic-Preprocessor**
- **أدوات مخصصة (Specialized Tools):**
  - **CAMeL Tools**
  - **Farasa**
  - **MADA**

## 4.6 مثال حي
> ---
> `الموضوع`: بيانات نصية تم جمعها من مواقع التواصل الإجتماعي 
> </br>
> `الهدف`: تحليل المواضيع او الترند من خلال هذه النصوص
> </br>
> `المطلوب`: نحتاج الى تنظيف هذه النصوص حتى نحصل على أعلى جودة ممكنة في التحليل
> ---

### Step 1" Import & Declear Variables
#### Input:
```py
from pyarabic import normalize

import re

text = " هُنَاكَ اَلْعَدِيدُ مِنْ اَلنُّصُوصِ اَلْمُشْكِلَةِ عَلَى شَبَكَةِ اَلْإِنْتَرْنِت وَيُمْكِنُ أَنْ تَكُونَ أَكْثَرَ مِنْ 1000 نَصٍّ ويمكن الحصول على الكثير والكثير من خلال البحث في https://google.com ."
print(text)
```
#### Output:
```py
-> هُنَاكَ اَلْعَدِيدُ مِنْ اَلنُّصُوصِ اَلْمُشْكِلَةِ عَلَى شَبَكَةِ اَلْإِنْتَرْنِت وَيُمْكِنُ أَنْ تَكُونَ أَكْثَرَ مِنْ 1000 نَصٍّ ويمكن الحصول على الكثير والكثير من خلال البحث في https://google.com .
```

### Step 2: Remove Tashkeel
#### Input
```py
text = normalize.strip_tashkeel(text)
print(text)
```
#### Output
```py
-> هناك العديد من النصوص المشكلة على شبكة الإنترنت ويمكن أن تكون أكثر من 1000 نص ويمكن الحصول على الكثير والكثير من خلال البحث في https://google.com .
```


### Step 3.1: Noise Removal (Links)
#### Input
```py
text = re.sub('http(s)?://[^ ]+', '', text)
print(text)
```
#### Output
```py
-> هناك العديد من النصوص المشكلة على شبكة الإنترنت ويمكن أن تكون أكثر من 1000 نص ويمكن الحصول على الكثير والكثير من خلال البحث في  .
```

### Step 3.2: Noise Removal (Numbers)
#### Input
```py
text = re.sub('[0-9]+', '', text)
print(text)
```
#### Output
```py
-> هناك العديد من النصوص المشكلة على شبكة الإنترنت ويمكن أن تكون أكثر من  نص ويمكن الحصول على الكثير والكثير من خلال البحث في  .
```

### Step 3.3: Noise Removal (Double Spaces)
#### Input
```py
text = re.sub('[ ]+', ' ', text)
print(text)
```
#### Output
```py
-> هناك العديد من النصوص المشكلة على شبكة الإنترنت ويمكن أن تكون أكثر من نص ويمكن الحصول على الكثير والكثير من خلال البحث في .
```

### Step 4.1: Normalization (Alif)
#### Input
```py
text = re.sub('أإآا', 'ا', text)
print(text)
```
#### Output
```py
-> هناك العديد من النصوص المشكلة على شبكة الإنترنت ويمكن أن تكون أكثر من نص ويمكن الحصول على الكثير والكثير من خلال البحث في .
```

### Step 4.2: Normalization (Yaa'a)
#### Input
```py
text = re.sub('ى', 'ي', text)
print(text)
```
#### Output
```py
-> هناك العديد من النصوص المشكلة علي شبكة الإنترنت ويمكن أن تكون أكثر من نص ويمكن الحصول علي الكثير والكثير من خلال البحث في .
```

### Step 4.2: Normalization (Haa'a)
#### Input
```py
text = re.sub('ة', 'ه', text)
print(text)
```
#### Output
```py
-> هناك العديد من النصوص المشكله علي شبكه الإنترنت ويمكن أن تكون أكثر من نص ويمكن الحصول علي الكثير والكثير من خلال البحث في .
```

> ---
> وهنا يعتبر حققنا المطلوب وعالجنا البيانات حسب ما نحتاج بحذف `علامات التشكيل` و`الروابط` و`الأرقام` و`وحدنا أشكال الحروف` من أشكال متعددة الى شكل واحد شائع في النصوص حتى نتفادى المشاكل الأملائية
> ---

---

## 4.7 الحالات المميزة (Special Cases)

في بعض الأحيان، نتعامل مع نصوص تأتي من **مصادر خاصة** ليست ذات طابع ثابت او حتى تحمل القدرة على خلق أنماط جديدة في كل مرة، مثل:
- **مخرجات النماذج اللغوية (LLMs Outputs)**: نصوص مولَّدة تلقائيًا.
- **مخرجات أنظمة التعرف على الكلام (STT - Speech-to-Text Outputs)**: نصوص مأخوذة من الصوت المنطوق.
- **مخرجات النصوص المترجمة آليًا (Machine-Translated Texts Outputs)**: ملفات أو جُمل تمت ترجمتها بواسطة أنظمة الترجمة الآلية.
- **مخرجات أنظمة مختلفة (Mixed System Outputs)**: خليط من نصوص صادرة عن أكثر من نظام أو عملية.

قد تختلف طبيعة هذه النصوص عن النصوص البشرية المعتادة؛ مما يتطلب استراتيجيات خاصة في التنظيف والتطبيع. في هذا القسم، نتناول أبرز التحديات والحلول لكل مصدر، ونقدم منهجية موحّدة للتعامل معها.

---

> ### 4.7.1 مخرجات النماذج اللغوية (LLMs Outputs)
> 
> 1. **التكرار المفرط (Excessive Repetition)**
>    - **التحدي**: قد يولِّد النموذج عبارات مكررة تضر بجودة النص.
>    - **الحل**: تطبيق خوارزميات الكشف عن التكرارات أو تلخيص النص.
> 
> 2. **إدراج تنبيهات أو إشعارات (Disclaimers/Notes)**
>    - **التحدي**: النموذج قد يُضيف تنبيهات مثل "أنا نموذج لغوي".
>    - **الحل**: تحديد هذه العبارات مسبقًا وحذفها إذا لم تكن مفيدة.
> 
> 3. **الهلوسة (Hallucination)**
>    - **التحدي**: توليد معلومات غير صحيحة أو مختلقة.
>    - **الحل**: التحقق من المعلومات الحساسة بمصادر خارجية؛ إزالة النصوص غير الموثوقة.
> 
> 4. **التفصيل الزائد عن المطلوب (Over-Explanation)**
>    - **التحدي**: إطالة الشرح دون حاجة فعلية.
>    - **الحل**: الاعتماد على تقنيات التلخيص أو الاقتصار على النقاط الأساسية.
>
---
>
> ### 4.7.2 مخرجات نصوص من أنظمة التعرف على الكلام (STT - Speech-to-Text Output)
> 2. **الأخطاء الإملائية أو النحوية (Spelling/Grammar Errors)**
>    - **التحدي**: عدم تعرف النظام على بعض الكلمات أو اللهجات.
>    - **الحل**: التصحيح الإملائي والنحوي باستخدام أدوات مثل Farasa.
> 
> 3. **إهمال التشكيل (Ignoring Diacritics)**
>    - **التحدي**: يؤدي إلى غموض خاصة في العربية.
>    - **الحل**: استخدام نماذج التشكيل الآلي إذا كانت مهمة.
> 
> 4. **مشاكل تقسيم الجُمل (Sentence Boundary Detection Issues)**
>    - **التحدي**: النظام قد لا يميز مواضع انتهاء الجُمل.
>    - **الحل**: تطبيق خوارزميات للكشف عن الحدود مثل علامات التوقف أو قرائن نحوية.

---

> ### 4.7.3 مخرجات نصوص مترجمة آليًا (Machine-Translated Texts Output)
> 
> 1. **ترجمات حرفية (Literal Translations)**
>    - **التحدي**: تراكيب غير ملائمة لقواعد العربية.
>    - **الحل**: تدقيق النحو، إعادة الصياغة، أو استخدام أدوات تصحيح.
> 
> 2. **مصطلحات خاطئة (Incorrect Terminology)**
>    - **التحدي**: استخدام مصطلحات غير دقيقة في المجالات التخصصية.
>    - **الحل**: بناء قاموس مصطلحات متخصص أو مراجعة خبير.
> 
> 3. **اختلاف اللهجات أو الأساليب (Dialect or Style Mismatch)**
>    - **التحدي**: ترجمة محتوى قد لا يناسب اللهجة أو الأسلوب المطلوب.
>    - **الحل**: توحيد النص باستخدام استراتيجيات التعامل مع اللهجات أو إعادة التحرير.

---

> ### 4.7.4 مخرجات نصوص صادرة من أنظمة مختلفة (Mixed System Outputs)
> 
> 1. **نصوص مدمجة (Mixed Text)**
>    - **التحدي**: اندماج نصوص عدة من STT أو LLMs أو ترجمة آلية.
>    - **الحل**: تنفيذ تنظيف متعدد المراحل مع مراجعة يدوية إن لزم الأمر.
> 
> 2. **وجود علامات أو رموز خاصة بالنظام (System Tags/Markers)**
>    - **التحدي**: إدراج رموز مثل `<TAG>` أو `[SYS]` تدل على أقسام معينة.
>    - **الحل**: إزالة الرموز أو استبدالها بما يناسب سياق التحليل.
> 
> 3. **تنسيق غير متّسق (Inconsistent Formatting)**
>    - **التحدي**: استعمال ترميزات أو فواصل أسطر مختلفة.
>    - **الحل**: توحيد الترميز (**UTF-8** مثلًا) وتنسيق الأسطر والفقرات.

---

### 4.7.5 منهجية موحّدة للتعامل مع المصادر المختلفة (A Unified Methodology)

عند التعامل مع نصوص من مصادر خاصة أو متعددة، يمكن اعتماد المنهجية التالية لتحسين جودة الإخراج:

1. **التعرف على المصدر (Identify the Source)**
   - أولًا، تحديد نوع المصدر (LLM، STT، ترجمة آلية، مختلط)، إذ يساعد ذلك في توقع طبيعة الأخطاء والمشكلات الشائعة.

2. **تهيئة مسبقة (Pre-processing Setup)**
   - إعداد جداول أو قواميس خاصة لكل مصدر. على سبيل المثال:
     - **LLM**: جدول للكلمات أو الجُمل الإضافية (تنبيهات، إشعارات) لحذفها.
     - **STT**: أدوات لتخمين مواضع الترقيم والحد من الأخطاء الإملائية الشائعة.
     - **الترجمة الآلية**: قواميس مصطلحات تخصصية ومراجعة يدوية للمصطلحات المهمة.

3. **إزالة الضوضاء العامة (General Noise Removal)**
   - تطبيق خطوات تنظيف النص الأساسية (إزالة الروابط، الرموز غير الضرورية، إلخ).
   - إن كانت هنالك حروف مكررة أو تكرارات غير مفيدة، يتم معالجتها.

4. **تصحيح الأخطاء الإملائية والنحوية (Spelling & Grammar Correction)**
   - استخدام أدوات التصحيح الإملائي والنحوي العامة والمخصصة للمصدر.
   - فحص عام للعبارات الشائعة التي قد يخطئ فيها المصدر.

5. **إضافة الترقيم أو التشكيل (Optional)**
   - في حالة عدم وجود علامات ترقيم من STT مثلًا، يتم إدخال نماذج تنبؤ بالترقيم.
   - إذا كانت مهمة التشكيل مهمة، يتم الاستعانة بأدوات التشكيل الآلي.

6. **الكشف عن المعلومات المغلوطة أو الزائدة (Content Verification)**
   - بالنسبة لمخرجات **LLMs**، يتم التحقق من الحقائق الأساسية لتفادي الهلوسة.
   - مراجعة المصطلحات إن كانت توجد تخصصية خاطئة في النصوص المترجمة.

7. **توحيد الصيغ الكتابية (Standardization)**
   - تطبيق إجراءات توحيد الهمزات والألف المقصورة والتاء المربوطة أو الرموز المتشابهة.

8. **معالجة اللهجات (Dialect Handling)**
   - إذا كان النص يحتاج إلى تحويل من لهجة معينة إلى الفصحى أو دمج لهجات متعددة.
   - استخدام قواميس أو أدوات مناسبة لللهجات المستهدفة.

9. **التدقيق والضمان (Review & Assurance)**
   - **مراجعة بشرية (Human Review)**: خطوة مهمة للتأكد من أن النص النهائي منطقي ومتسق لغويًا.
   - **اختبارات آلية (Automated Tests)**: مثل أدوات التوافق النحوي أو كشف التكرارات.

10. **التخزين النهائي (Final Storage)**
    - حفظ النص بجودة عالية وبصيغة موحّدة (مثل **UTF-8**).
    - إدماج مراحل تنقيح إضافية إذا تطلّب الأمر.

---

### 4.7.6 ضمان الجودة (Quality Assurance)

- **مراجعة بشرية (Human Review)**
  - يفضّل دائمًا إجراء فحص من قِبَل مدقّق لغوي أو مختص في المجال، خاصة إذا كانت النصوص حساسة.
  
- **استخدام أدوات التحقق التلقائي (Automated Verification Tools)**
  - دمج أدوات التدقيق النحوي أو الإملائي بصورة آلية لتقليل الأخطاء الشائعة.
  
- **التحديث والتحسين المستمر (Continuous Improvement)**
  - مراجعة دورية للمنهجية وتعديلها وفق التغييرات في مصادر النصوص أو التطورات في الأدوات والأنظمة.

---

**الخلاصة في الحالات المميزة:**
عندما تأتي النصوص من مصادر غير تقليدية (مخرجات نماذج لغوية، أنظمة التعرف على الكلام، ترجمة آلية، أو خليط)، ينبغي تطبيق **منهجية موحّدة** تبدأ بالتعرّف على المصدر، ثم إزالة الضوضاء والتصحيح والتنقيح والتوحيد اللغوي، وأخيرًا التدقيق البشري والآلي. هذه الخطوات تضمن جودة عالية للنص، مما يسهل عمليات التحليل والاستخراج اللاحقة ويعطي نتائج موثوقة في مختلف تطبيقات **معالجة اللغة الطبيعية**.


## مصطلحات مهمة (Key Terms)

| **المصطلح (Arabic Term)**        | **المصطلح (English Term)**                     | **الشرح (Explanation)**                                                                                  |
|-----------------------------------|------------------------------------------------|----------------------------------------------------------------------------------------------------------|
| **تنظيف النص**                   | **Text Cleaning**                              | عملية إزالة الضوضاء والشوائب من النص لتحسين جودته.                                                         |
| **تطبيع النص**                   | **Text Normalization**                         | تحويل النص إلى شكل موحد ومبسّط للتقليل من التعقيدات اللغوية.                                               |
| **الضوضاء**                      | **Noise**                                      | العناصر التي لا تضيف قيمة معنوية للنص، مثل الرموز غير الضرورية.                                             |
| **التعبيرات النمطية**            | **Regular Expressions**                        | لغة تستخدم لوصف الأنماط النصية والبحث عنها.                                                                |
| **التجذير**                      | **Stemming**                                   | عملية استخراج جذر الكلمة للتعامل مع التصريفات المختلفة.                                                     |
| **الرد إلى الأصل**               | **Lemmatization**                              | تحويل الكلمة إلى صيغة القاموس أو الأصلية.                                                                  |
| **الرموز التعبيرية**             | **Emojis**                                     | رموز صغيرة تستخدم للتعبير عن المشاعر أو الأفكار.                                                           |
| **الهمزات**                      | **Hamzas**                                     | الحروف التي تحتوي على همزة، والتي قد تُكتب بأشكال مختلفة.                                                  |
| **الألف المقصورة**               | **Alef Maqsura**                               | الحرف (`ى`) في نهاية الكلمات، ويشبه الياء (`ي`).                                                           |
| **التاء المربوطة**               | **Ta' Marbouta**                               | الحرف (`ة`) في نهاية الكلمات، ويختلف عن الهاء (`ه`).                                                        |
| **معالجة اللغة الطبيعية**        | **Natural Language Processing (NLP)**          | مجال يهتم بتطوير الخوارزميات لفهم ومعالجة اللغة البشرية.                                                    |
| **أدوات معالجة اللغة العربية**    | **Arabic Language Processing Tools**           | برامج ومكتبات متخصصة في معالجة النص العربي.                                                                |
| **اللهجات العربية**              | **Arabic Dialects**                            | التنوعات اللغوية في اللغة العربية المستخدمة في مناطق مختلفة.                                                |
| **القواعد اللغوية**              | **Grammar Rules**                              | مجموعة من القواعد التي تحكم تركيب الجمل والكلمات في اللغة.                                                  |
| **علامات التشكيل**               | **Diacritics**                                 | الحركات والعلامات التي توضع على الحروف لتحديد النطق الصحيح.                                                 |
| **قاموس لغوي**                  | **Lexicon**                                    | مجموعة من الكلمات مع معانيها واستخداماتها في اللغة.                                                        |

---

**ملخص القسم (Section Summary):**

- **إزالة الضوضاء والشوائب (Noise Removal)** تساعد في تحسين جودة النص وجعله أكثر ملاءمة للمعالجة.
- **التعامل مع الرموز الخاصة والعلامات الترقيمية (Handling Special Characters and Punctuation)** بشكل مناسب يساهم في فهم أفضل للنص.
- **تصحيح الأخطاء الإملائية والنحوية (Spelling and Grammar Correction)** يزيد من دقة النماذج والتطبيقات.
- **توحيد الصيغ الكتابية (Standardizing Writing Styles)** يقلل من التنوع الزائد في تمثيل الكلمات.
- **تطبيع النص (Text Normalization)** يعالج التحديات اللغوية مثل التصريف واللهجات، مما يسهل على النماذج فهم النص.
- **التعامل مع اللهجات (Handling Dialects)** يتطلب استراتيجيات وأدوات مخصصة لكل لهجة.
